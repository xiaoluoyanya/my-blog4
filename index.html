<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Adventure Profile</title>
    <!-- å¼•å…¥åœ†æ¶¦å¯çˆ±çš„å­—ä½“ -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@600;800&display=swap" rel="stylesheet">
    <!-- å¼•å…¥ Google çš„ Model Viewer ç»„ä»¶ -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
    
    <style>
    :root {
        --primary-red: #E60012;
        --sky-blue: #4facfe;
        --bg-gradient: linear-gradient(180deg, #4facfe 0%, #00f2fe 100%);
        --panel-bg: rgba(255, 255, 255, 0.95);
        --text-dark: #4a4a4a;
        --accent-yellow: #FFD700;
        --shadow: 0 8px 20px rgba(0,0,0,0.15);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
        font-family: 'Nunito', sans-serif;
        background: var(--bg-gradient);
        height: 100vh;
        overflow: hidden; /* ç¦æ­¢æ•´ä¸ªç½‘é¡µæ»šåŠ¨ */
        color: var(--text-dark);
        /* åƒç´ é¼ æ ‡ */
        cursor: url('https://cur.cursors-4u.net/games/gam-13/gam1282.cur'), auto;
        /* åŠ¨æ€èƒŒæ™¯å›¾ */
        background-image: 
            radial-gradient(circle 20px at 10% 10%, rgba(255,255,255,0.4) 100%, transparent),
            radial-gradient(circle 30px at 80% 20%, rgba(255,255,255,0.4) 100%, transparent);
        background-size: 100% 100%;
    }

    /* æŒ‰é’®é¼ æ ‡æ‰‹åŠ¿ */
    a, button { cursor: url('https://cur.cursors-4u.net/games/gam-13/gam1283.cur'), pointer; }

    /* --- 1. åˆå§‹ç”»é¢ --- */
    #intro-scene {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background: var(--bg-gradient);
        z-index: 999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        transition: transform 0.6s ease-in-out;
    }

    .logo-title {
        font-family: 'Fredoka One', cursive;
        font-size: 5rem;
        color: var(--primary-red);
        -webkit-text-stroke: 3px #fff;
        text-shadow: 5px 5px 0px rgba(0,0,0,0.1);
        animation: bounce 2s infinite;
    }

    .start-btn {
        font-family: 'Fredoka One', cursive;
        font-size: 1.5rem;
        background: #fff;
        color: var(--sky-blue);
        padding: 15px 50px;
        border-radius: 50px;
        border: none;
        box-shadow: 0 10px 0 #ddd;
        margin-top: 50px;
        cursor: pointer;
        transition: transform 0.1s;
    }
    .start-btn:active { transform: translateY(5px); box-shadow: 0 5px 0 #ddd; }

    /* --- 2. å…¨å±ä¸»ç•Œé¢ (å…³é”®å¸ƒå±€ä¿®æ”¹) --- */
    #main-dashboard {
        display: grid;
        /* 
           ä¿®æ”¹ç‚¹ 1ï¼šä¸‰åˆ—å¸ƒå±€ 
           å·¦ä¾§ 300px | ä¸­é—´ 1fr (è‡ªé€‚åº”) | å³ä¾§ 340px (ä½œå“é›†)
        */
        grid-template-columns: 300px 1fr 340px; 
        grid-template-rows: 85vh; /* å›ºå®šé«˜åº¦ï¼Œå†…å®¹åœ¨å†…éƒ¨æ»šåŠ¨ */
        gap: 25px;
        padding: 20px;
        
        /* ä¿®æ”¹ç‚¹ 2ï¼šé™åˆ¶æœ€å¤§å®½åº¦ï¼Œé˜²æ­¢ä¸­é—´å¤ªå®½ */
        max-width: 1480px; 
        margin: 0 auto; /* å±…ä¸­ */
        align-content: center;
        
        opacity: 0; 
        transform: scale(0.95);
        transition: all 0.5s ease;
    }

    /* é€šç”¨é¢æ¿æ ·å¼ */
    .panel {
        background: var(--panel-bg);
        border-radius: 25px;
        box-shadow: var(--shadow);
        border: 4px solid #fff;
        padding: 20px;
        overflow-y: auto; /* å†…å®¹å¤šäº†å¯ä»¥æ»šåŠ¨ */
        backdrop-filter: blur(10px);
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .panel::-webkit-scrollbar { width: 0px; }

    /* å„æ åŠ¨ç”» */
    .left-col { animation: slideInLeft 0.8s ease backwards; }
    .mid-col { animation: zoomIn 0.8s ease backwards 0.2s; border: 8px solid #fff; }
    .right-col { animation: slideInRight 0.8s ease backwards 0.4s; }

    /* å†…éƒ¨å…ƒç´ æ ·å¼ */
    .avatar-container {
        width: 150px; height: 150px;
        margin: 0 auto;
        background: #ffecb3;
        border-radius: 50%;
        border: 5px solid #fff;
        box-shadow: 0 0 0 3px var(--accent-yellow);
        overflow: hidden;
    }
    .avatar-container img { width: 100%; height: 100%; }

    h2 {
        font-family: 'Fredoka One';
        color: var(--sky-blue);
        border-bottom: 2px dashed #ddd;
        padding-bottom: 10px;
        margin-bottom: 10px;
    }

    /* å¡å¸¦æ ·å¼ (Inventory) */
    .cartridge {
        background: #333;
        color: #fff;
        border-radius: 10px;
        padding: 10px;
        /* margin-bottom: 15px; */
        cursor: pointer;
        transition: transform 0.2s;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .cartridge:hover { transform: translateX(-5px); background: var(--primary-red); }
    .cartridge-icon { 
        width: 40px; height: 40px; background: #555; border-radius: 5px; 
        display:flex; align-items:center; justify-content:center; font-weight:bold;
    }

    /* === å“åº”å¼ï¼šå°å±å¹•å˜å•åˆ— === */
    @media (max-width: 1200px) {
        #main-dashboard {
            grid-template-columns: 1fr; /* å˜æˆä¸€åˆ— */
            grid-template-rows: auto;
            height: auto;
            overflow-y: scroll;
            max-width: 100%;
        }
        body { overflow: auto; height: auto; }
        .panel { height: auto; margin-bottom: 20px; }
    }

    /* åŠ¨ç”»å®šä¹‰ */
    @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    .visible { opacity: 1 !important; transform: scale(1) !important; }
    .hidden { transform: translateY(-100%); }

    /* === éŸ³ä¹æ’­æ”¾å™¨æ ·å¼ === */
    .music-player-card {
        background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
        border-radius: 20px;
        padding: 20px;
        display: flex;
        align-items: center;
        gap: 20px;
        color: #fff;
        box-shadow: 0 10px 20px rgba(255, 105, 180, 0.3);
        transition: transform 0.2s;
    }
    .music-player-card:hover { transform: scale(1.02); }

    .album-cover {
        width: 80px; height: 80px;
        background: #000;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        position: relative;
        overflow: hidden;
    }
    .album-cover img { width: 100%; height: 100%; object-fit: cover; }
    .playing-icon {
        display: flex; gap: 3px; align-items: flex-end; height: 20px; margin-top: 10px;
    }
    .bar {
        width: 4px; background: #fff;
        animation: equalizer 0.5s infinite alternate;
    }
    .bar:nth-child(2) { animation-delay: 0.1s; }
    .bar:nth-child(3) { animation-delay: 0.2s; }
    .bar:nth-child(4) { animation-delay: 0.3s; }

    /* === æ¸¸æˆæ”¶è—æ¶æ ·å¼ === */
    .game-shelf {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: 15px;
        margin-top: 15px;
    }
    .game-box {
        aspect-ratio: 3/4;
        background: #ddd;
        border-radius: 10px;
        position: relative;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .game-box:hover {
        transform: translateY(-10px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        z-index: 10;
    }
    .game-box img { width: 100%; height: 100%; object-fit: cover; }
    .game-title {
        position: absolute; bottom: 0; left: 0; width: 100%;
        background: rgba(0,0,0,0.7); color: #fff;
        font-size: 0.6rem; padding: 5px; text-align: center;
        opacity: 0; transition: opacity 0.2s;
    }
    .game-box:hover .game-title { opacity: 1; }

    /* === å³ä¾§æ ï¼šä½œå“é›†å¡ç‰‡æ ·å¼ (æ–°å¢) === */
    .portfolio-container {
        display: flex;
        flex-direction: column;
        gap: 15px;
        overflow-y: auto;
        padding: 5px;
        flex: 1;
    }
    .portfolio-container::-webkit-scrollbar { width: 0; }

    .portfolio-card {
        background: #fff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        transition: transform 0.3s ease;
        border: 1px solid #eee;
        display: flex;
        flex-direction: column;
        min-height: 200px;
    }
    .portfolio-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.15); }

    .card-img {
        width: 100%;
        height: 110px;
        background-color: #eee;
        background-size: cover;
        background-position: center;
        border-bottom: 1px solid #f0f0f0;
    }
    .card-content { padding: 15px; display: flex; flex-direction: column; flex: 1; }
    
    .card-tag {
        display: inline-block;
        font-size: 0.6rem;
        font-weight: 800;
        background: var(--sky-blue);
        color: #fff;
        padding: 3px 8px;
        border-radius: 20px;
        margin-bottom: 8px;
        align-self: flex-start;
    }
    .card-title { font-size: 1rem; margin: 0 0 5px 0; color: #333; font-weight: 800; }
    .card-desc { font-size: 0.75rem; color: #888; line-height: 1.5; margin-bottom: 15px; flex: 1; }
    
    .card-btn {
        display: block; text-align: center; background: #f8f9fa; color: #555;
        text-decoration: none; padding: 8px; border-radius: 8px;
        font-size: 0.8rem; font-weight: bold; transition: 0.2s; border: 1px solid #eee;
    }
    .card-btn:hover { background: var(--text-dark); color: #fff; border-color: var(--text-dark); }

    /* === å¼¹çª— & ç•™è¨€æ¿æ ·å¼ä¿æŒä¸å˜ === */
    @keyframes equalizer { 0% { height: 5px; } 100% { height: 20px; } }

    .modal-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.8); z-index: 2000;
        display: flex; justify-content: center; align-items: center;
        backdrop-filter: blur(5px); transition: opacity 0.3s;
    }
    .model-window {
        width: 90%; max-width: 600px; background: #fff; border-radius: 25px;
        padding: 20px; border: 5px solid var(--sky-blue);
        box-shadow: 0 0 30px rgba(79, 172, 254, 0.6); position: relative;
        transform: scale(1); transition: transform 0.3s;
        animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .close-btn {
        position: absolute; top: -20px; right: -10px;
        background: var(--primary-red); color: white;
        border: 3px solid #fff; padding: 5px 15px; border-radius: 20px;
        cursor: pointer; font-weight: bold; box-shadow: 0 5px 10px rgba(0,0,0,0.2);
    }
    .close-btn:hover { transform: scale(1.1); }
    @keyframes popIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    /* ç•™è¨€æ¿æ ·å¼ */
    .floating-btn {
        background: #fff; border: 2px solid #eee; padding: 10px 20px;
        border-radius: 20px; font-family: 'Fredoka One';
        box-shadow: 0 4px 10px rgba(0,0,0,0.1); transition: transform 0.2s; cursor: pointer;
    }
    .floating-btn:hover { transform: scale(1.1) rotate(-3deg); color: var(--sky-blue); }

/* === ğŸŸ¢ ç²˜è´´è¿™æ®µæ–°çš„æ ·å¼ === */
    .side-drawer {
        position: fixed;
        top: 0; 
        right: -360px; /* é»˜è®¤éšè—åœ¨å³ä¾§å¤–é¢ */
        width: 350px; /* å®½åº¦é€‚ä¸­ */
        max-width: 85vw; /* å…³é”®ï¼šæ‰‹æœºä¸Šæœ€å¤šå å±å¹•å®½åº¦çš„85%ï¼Œä¸ä¼šæ’‘ç ´å±å¹• */
        height: 100%;
        
        /* è§†è§‰ç¾åŒ– */
        background: rgba(255, 255, 255, 0.9); /*ç¨å¾®é€æ˜ä¸€ç‚¹ */
        backdrop-filter: blur(15px); /* æ¯›ç»ç’ƒæ¨¡ç³Šç‰¹æ•ˆ */
        box-shadow: -10px 0 30px rgba(0,0,0,0.1); /* å·¦ä¾§é˜´å½± */
        border-left: 4px solid #fff; /* å·¦ä¾§ç™½è¾¹ */
        
        z-index: 1001;
        transition: right 0.4s cubic-bezier(0.25, 1, 0.5, 1); /* é¡ºæ»‘çš„åŠ¨ç”» */
        padding: 30px;
        display: flex;
        flex-direction: column;
    }
    
    /* æ‰“å¼€çŠ¶æ€ */
    .side-drawer.open { right: 0; }
    /* === è¡¨å•è¾“å…¥åŒºåŸŸç¾åŒ– === */
    .input-area {
        display: flex; 
        flex-direction: column; 
        gap: 15px; /* å¢åŠ é—´è· */
        margin-top: 20px;
    }
    
    .input-area input, .input-area textarea {
        width: 100%; 
        padding: 12px; 
        border-radius: 12px;
        border: 2px solid #eee; 
        outline: none; 
        font-family: 'Nunito';
        background: rgba(255,255,255,0.8);
        transition: 0.3s;
    }
    
    /* è¾“å…¥æ¡†èšç„¦æ—¶å˜è“ */
    .input-area input:focus, .input-area textarea:focus {
        border-color: var(--sky-blue);
        background: #fff;
        box-shadow: 0 4px 10px rgba(79, 172, 254, 0.1);
    }
    
    /* å‘é€æŒ‰é’® */
    .input-area button {
        background: var(--primary-red); 
        color: #fff; 
        border: none;
        padding: 12px; 
        border-radius: 12px; 
        font-weight: bold;
        cursor: pointer; 
        transition: 0.2s;
        font-size: 1rem;
        margin-top: 10px;
    }
    
    .input-area button:hover { 
        background: var(--sky-blue); 
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    /* ç¦ç”¨çŠ¶æ€ (å‘é€ä¸­) */
    .input-area button:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
    }
    
    .message-list-area {
        flex: 1; overflow-y: auto; margin-bottom: 20px;
        border: 2px dashed #eee; border-radius: 10px;
        padding: 10px; background: rgba(255,255,255,0.5);
    }
    .msg-card {
        background: #fff; border-radius: 10px; padding: 10px; margin-bottom: 10px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05); border-left: 4px solid var(--sky-blue);
        font-size: 0.9rem; animation: slideInRight 0.3s ease;
    }
    .msg-header {
        font-weight: bold; color: var(--primary-red); font-size: 0.8rem;
        display: flex; justify-content: space-between; margin-bottom: 5px;
    }
    .msg-time { color: #ccc; font-size: 0.7rem; font-weight: normal;}
    .input-area { display: flex; flex-direction: column; gap: 10px; }
    .input-area input, .input-area textarea {
        width: 100%; padding: 10px; border-radius: 10px;
        border: 2px solid #eee; outline: none; font-family: 'Nunito';
    }
    .input-area input:focus, .input-area textarea:focus { border-color: var(--sky-blue); }
    .input-area button {
        background: var(--primary-red); color: #fff; border: none;
        padding: 10px; border-radius: 10px; font-weight: bold;
        cursor: pointer; transition: 0.2s;
    }
    .input-area button:hover { background: var(--sky-blue); transform: translateY(-2px); }
    .empty-tip { text-align: center; color: #999; margin-top: 50px; font-size: 0.8rem; }

    /* === å…¨å±ç”»å»Šä¸“ç”¨æ ·å¼ === */
    .gallery-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: #000; /* çº¯é»‘èƒŒæ™¯ï¼Œæ²‰æµ¸æ„Ÿ */
        z-index: 3000; /* ä¿è¯åœ¨æœ€é¡¶å±‚ */
        display: flex; flex-direction: column; justify-content: center; align-items: center;
        transition: opacity 0.5s ease;
    }

    /* å›¾ç‰‡å®¹å™¨ï¼šåˆ©ç”¨ç›¸å¯¹å®šä½ */
    .gallery-container {
        position: relative;
        width: 90%; height: 80%;
        display: flex; justify-content: center; align-items: center;
    }

    /* æ ¸å¿ƒï¼šå›¾ç‰‡çš„æ·¡å…¥æ·¡å‡ºé€»è¾‘ */
    .gallery-slide {
        position: absolute; /* è®©æ‰€æœ‰å›¾ç‰‡é‡å åœ¨ä¸€èµ· */
        max-width: 100%; max-height: 100%;
        object-fit: contain; /* ä¿æŒæ¯”ä¾‹å®Œæ•´æ˜¾ç¤º */
        opacity: 0; /* é»˜è®¤é€æ˜ */
        transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1); /* 0.8ç§’ç¼“æ…¢æ¸å˜ */
        pointer-events: none; /* é¿å…ç‚¹åˆ°éšè—çš„å›¾ */
    }

    /* åªæœ‰åŠ äº† active ç±»çš„å›¾ç‰‡æ‰ä¼šæ˜¾ç¤º */
    .gallery-slide.active {
        opacity: 1;
        pointer-events: auto;
        z-index: 2;
    }

    /* å·¦å³åˆ‡æ¢ç®­å¤´ */
    .nav-btn {
        position: absolute; top: 50%; transform: translateY(-50%);
        background: rgba(255,255,255,0.1); color: #fff; border: none;
        font-size: 3rem; padding: 10px 20px; cursor: pointer; border-radius: 10px;
        transition: 0.3s; user-select: none; z-index: 10;
    }
    .nav-btn:hover { background: rgba(255,255,255,0.3); }
    .nav-btn.prev { left: 20px; }
    .nav-btn.next { right: 20px; }

    /* ç‹¬ç«‹çš„å…³é—­æŒ‰é’® */
    .close-btn-gallery {
        position: absolute; top: 20px; right: 30px;
        background: transparent; border: 2px solid rgba(255,255,255,0.5);
        color: #fff; padding: 8px 20px; border-radius: 30px;
        cursor: pointer; font-weight: bold; z-index: 10; transition: 0.3s;
    }
    .close-btn-gallery:hover { background: #fff; color: #000; }

    /* åº•éƒ¨æŒ‡ç¤ºå™¨ */
    .gallery-indicator {
        position: absolute; bottom: 30px; color: #888; font-family: 'Fredoka One'; letter-spacing: 2px;
    }
    /* === åšå®¢æ–‡ç« åˆ—è¡¨æ ·å¼ === */
    .article-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
        max-height: 300px; /* å¦‚æœæ–‡ç« å¤ªå¤šï¼Œæ”¯æŒå†…éƒ¨æ»šåŠ¨ */
        overflow-y: auto;
    }

    /* æ¯ä¸€è¡Œæ–‡ç« çš„æ ·å¼ */
    .article-item {
        display: flex;
        align-items: center;
        padding: 15px;
        background: #f9f9f9;
        border-radius: 10px;
        text-decoration: none; /* å»æ‰ä¸‹åˆ’çº¿ */
        color: #333;
        transition: all 0.2s;
        border: 2px solid transparent; /* é¢„ç•™è¾¹æ¡†ä½ç½® */
    }

    /* é¼ æ ‡æ‚¬åœæ•ˆæœï¼šå˜ç™½ã€æµ®èµ·ã€å˜è“è¾¹æ¡† */
    .article-item:hover {
        background: #fff;
        border-color: var(--sky-blue);
        transform: translateX(5px); /* å¾®å¾®å³ç§» */
        box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    }

    .article-date {
        font-size: 0.7rem;
        color: #999;
        font-weight: bold;
        margin-right: 15px;
        font-family: 'Nunito';
    }

    .article-title {
        flex: 1; /* å æ»¡å‰©ä½™ç©ºé—´ */
        font-size: 0.9rem;
        font-weight: bold;
        white-space: nowrap; /* ä¸æ¢è¡Œ */
        overflow: hidden;
        text-overflow: ellipsis; /* è¶…å‡ºæ˜¾ç¤ºçœç•¥å· */
    }

    .article-arrow {
        color: #ccc;
        font-weight: bold;
    }
    .article-item:hover .article-arrow { color: var(--sky-blue); }
    </style>
</head>
<body>

    <!-- 1. éŸ³ä¹å¼€å…³ -->
    <div style="position:fixed; top:20px; right:20px; z-index:1000;">
        <button onclick="toggleMusic()" style="background:#fff; border:2px solid #eee; padding:10px; border-radius:20px; font-family:'Fredoka One';">
            ğŸµ BGM: OFF
        </button>
    </div>
    <audio id="bgm" loop src="bgm.mp3"></audio>

    <!-- 2. åˆå§‹å¼€å§‹ç”»é¢ -->
    <div id="intro-scene">
        <h1 class="logo-title">PLAYER ONE</h1>
        <p style="color:#fff; font-size:1.2rem;">READY PLAYER ONE?</p>
        <button class="start-btn" onclick="startGame()">PRESS START</button>
    </div>

    <!-- 3. ç•™è¨€æ¿æŒ‰é’® -->
    <div style="position:fixed; top:80px; right:20px; z-index:1000;">
        <button onclick="toggleMessageBoard()" class="floating-btn">
            ğŸ’¬ ç•™è¨€æ¿
        </button>
    </div>

<!-- 4. ç•™è¨€æ¿ä¾§æ»‘æŠ½å±‰ (å®Œç¾åŸç”Ÿæ ·å¼ + çœŸå®å‘é€) -->
    <div id="message-board-panel" class="side-drawer">
        <h3 style="font-family:'Fredoka One'; color:var(--primary-red);">ğŸ“® PRIVATE BOX</h3>
        <p style="font-size:0.8rem; color:#666; margin-bottom:15px;">
            Send a secret message to me.<br>
            æ‚¨çš„ç•™è¨€å°†ç›´æ¥å‘é€åˆ°æˆ‘çš„é‚®ç®±ã€‚
        </p>
        
        <!-- è¿™é‡Œçš„ ID å¾ˆé‡è¦ï¼ŒJS è¦ç”¨ -->
        <form id="my-game-form" class="input-area">
            
            <!-- åå­—è¾“å…¥æ¡† (åŠ äº† name="name") -->
            <input type="text" name="name" placeholder="ä½ çš„æ˜µç§° / Name" required>
            
            <!-- å†…å®¹è¾“å…¥æ¡† (åŠ äº† name="message") -->
            <textarea name="message" placeholder="å†™ç‚¹ä»€ä¹ˆå§... / Message..." rows="3" required></textarea>
            
            <!-- å‘é€æŒ‰é’® (type="submit") -->
            <button type="submit" id="send-btn">ğŸš€ å‘é€ / SEND</button>
            
            <!-- çŠ¶æ€æç¤ºæ–‡å­— -->
            <p id="form-status" style="font-size:0.8rem; color:#888; text-align:center; margin-top:5px;"></p>
        </form>
    </div>

    <!-- 5. ä¸»ç•Œé¢ (ä¸‰æ å¸ƒå±€) -->
    <div id="main-dashboard">
        
        <!-- ğŸ¢ å·¦ä¾§æ ï¼šç©å®¶å±æ€§ -->
        <aside class="panel left-col">
            <div class="avatar-container">
                <img src="me.jpg" alt="avatar">
            </div>
            <div style="text-align:center;">
                <h1 style="font-family:'Fredoka One'; margin-top:10px;">æ— éŸ³desu</h1>
                <span style="background:var(--accent-yellow); padding:5px 10px; border-radius:10px; font-size:0.8rem; font-weight:bold;">LV.23 DESIGNER</span>
            </div>

            <div style="margin-top:20px;">
                <div style="display:flex; justify-content:space-between; font-size:0.8rem; font-weight:bold; margin-bottom:5px;">
                    <span>HP (ç²¾åŠ›)</span> <span>100/100</span>
                </div>
                <div style="height:10px; background:#eee; border-radius:5px; overflow:hidden;">
                    <div style="width:100%; height:100%; background:#ff5252;"></div>
                </div>
                
                <div style="display:flex; justify-content:space-between; font-size:0.8rem; font-weight:bold; margin-top:10px; margin-bottom:5px;">
                    <span>MP (çµæ„Ÿ)</span> <span>85/100</span>
                </div>
                <div style="height:10px; background:#eee; border-radius:5px; overflow:hidden;">
                    <div style="width:85%; height:100%; background:#4facfe;"></div>
                </div>
            </div>

            <div style="margin-top:auto; display:grid; gap:10px;">
                <a href="resume.pdf" target="_blank" style="display:block; text-align:center; background:#eee; padding:10px; border-radius:10px; text-decoration:none; color:#333; font-weight:bold;">
                    ğŸ“„ ä¸‹è½½ç®€å†
                </a>
                <a href="mailto:test@test.com" style="display:block; text-align:center; background:#333; color:#fff; padding:10px; border-radius:10px; text-decoration:none; font-weight:bold;">
                    âœ‰ï¸ å‘é€é‚®ä»¶
                </a>
            </div>
        </aside>

        <!-- ğŸ  ä¸­é—´æ ï¼šå†…å®¹å±•ç¤º (åŒ…å«äº†åŸæœ¬çš„ Inventory) -->
        <main class="panel mid-col">
            
            <!-- æ¬¢è¿è¯­ -->
            <div style="margin-bottom: 20px;">
                <h2>ğŸ‘‹ HELLO WORLD!</h2>
                <p style="color:#666; line-height:1.6;">
                    è¿™é‡Œæ˜¯æˆ‘çš„æ•°å­—ç§˜å¯†åŸºåœ°ã€‚æˆ‘ä¸åªæ˜¯å†™ä»£ç ï¼Œæˆ‘è¿˜æ‹¯æ•‘è¿‡æµ·æ‹‰é²å¤§é™†ï¼Œ
                    åœ¨å¸•åº•äºšåœ°åŒºå½“å®å¯æ¢¦è®­ç»ƒå®¶ï¼Œå¶å°”ä¹Ÿåœ¨äº‘æ‘å¬å¬æ­Œã€‚ä½ è¯´ç®€å†ï¼Ÿå·¦ä¸‹è§’ä¸‹è½½å°±å¥½å•¦ï¼
                    ç”±äºé“¾æ¥githubï¼Œä¸»é¡µæœ‰äº›å†…å®¹å¯èƒ½æ— æ³•å±•ç°å“¦
                </p>
            </div>

            <!-- éŸ³ä¹å¡ç‰‡ -->
            <h2 style="border-color: #ff9a9e; color: #ff6b6b;">ğŸµ NOW PLAYING</h2>
            <div class="music-player-card">
                <div class="album-cover">
                    <img src="https://i.scdn.co/image/ab67616d0000b2734ae1c4c5c45aabe565499163" alt="Album">
                </div>
                <div style="flex: 1;">
                    <h3 style="margin:0; font-size:1.1rem;">Beat It</h3>
                    <p style="margin:5px 0; font-size:0.8rem; opacity:0.9;">Michael Jackson</p>
                    <div class="playing-icon">
                        <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
                    </div>
                </div>
                <div style="font-size:2rem;">â–¶</div>
            </div>

            <!-- æ¸¸æˆæ”¶è— -->
            <h2 style="margin-top: 30px; border-color: #4ecdc4; color: #4ecdc4;">ğŸ® COLLECTION</h2>
            <div class="game-shelf">
                <div class="game-box"><img src="images/å®å¯æ¢¦ç´«.jpg"><div class="game-title">å®å¯æ¢¦ç´«</div></div>
                <div class="game-box"><img src="images/åœ£å…½ä¹‹ç‹.webp"><div class="game-title">åœ£å…½ä¹‹ç‹</div></div>
                <div class="game-box"><img src="images/è‹±é›„è”ç›Ÿ.jpg"><div class="game-title">è‹±é›„è”ç›Ÿ</div></div>
                <div class="game-box"><img src="images/å¡å°”è¾¾ä¼ è¯´ç‹å›½ä¹‹æ³ª.jpg"><div class="game-title">ç‹å›½ä¹‹æ³ª</div></div>
            </div>

            <!-- ğŸ’ ç‰©å“æ  (ä»å³ä¾§æ¬è¿‡æ¥äº†ï¼) -->
            <h2 style="margin-top:30px; border-color:#ffe66d; color:#e6c200;">ğŸ’ INVENTORY (æ¨¡å‹åº“)</h2>
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
                <!-- ç‰©å“ 1 -->
                <div class="cartridge" onclick="openModelView('Astronaut.glb', 'å¤ªç©ºå®‡èˆªå‘˜')">
                    <div class="cartridge-icon" style="color:#ff6b6b;">ğŸ§‘â€ğŸš€</div>
                    <div>
                        <div style="font-weight:bold; font-size:0.9rem;">Astronaut</div>
                        <div style="font-size:0.7rem; opacity:0.7;">NASA Demo</div>
                    </div>
                </div>
                <!-- ç‰©å“ 2 -->
                <div class="cartridge" onclick="openModelView('https://raw.githubusercontent.com/phivyvsfaav-droid/3dwenjian/main/car.glb', 'æ³•æ‹‰åˆ©')">
                    <div class="cartridge-icon" style="color:#4ecdc4;">ğŸï¸</div>
                    <div>
                        <div style="font-weight:bold; font-size:0.9rem;">Racing Car</div>
                        <div style="font-size:0.7rem; opacity:0.7;">3D Asset</div>
                    </div>
                </div>
                <!-- ğŸ”µ ç‰©å“ 3 (è¿™æ˜¯æ–°åŠ çš„) -->
                <div class="cartridge" onclick="openModelView('baimao.glb', 'è§’è‰²æ¨¡å‹')">
                    <!-- ğŸ‘‡ å›¾æ ‡é¢œè‰²å’Œå½¢çŠ¶å¯ä»¥æ”¹ -->
                    <div class="cartridge-icon" style="color:#a29bfe;">ğŸ“±</div>
                    <div>
                        <!-- ğŸ‘‡ å¡ç‰‡ä¸Šæ˜¾ç¤ºçš„åå­— -->
                        <div style="font-weight:bold; font-size:0.9rem;">Role Model</div>
                        <!-- ğŸ‘‡ ä¸‹é¢çš„å°å­—æè¿° -->
                        <div style="font-size:0.7rem; opacity:0.7;">3d model</div>
                    </div>
                </div>
            </div>

        </main>

        <!-- ğŸ¢ å³ä¾§æ ï¼šä½œå“é›† (Projects) -->
        <aside class="panel right-col">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                <h2 style="margin:0; border:none; font-size:1.4rem;">ğŸ“‚ ä½œå“é›† </h2>
                <span style="background:#333; color:#fff; padding:2px 8px; border-radius:5px; font-size:0.7rem;">PUBLIC</span>
            </div>
            
            <p style="font-size:0.8rem; color:#888; margin-bottom:20px;">
                å·²è§£å¯†çš„ä»»åŠ¡æ¡£æ¡ˆ (Selected Works)
            </p>

            <!-- ä½œå“åˆ—è¡¨ -->
            <div class="portfolio-container">

                <!-- ä½œå“ 1 -->
                <div class="portfolio-card">
                    <!-- ğŸ‘‡ è¿™é‡Œå¯ä»¥æ¢æˆä½ çš„æ¸¸æˆæˆªå›¾ -->
                    <div class="card-img" style="background-image: url('https://images.unsplash.com/photo-1552820728-8b83bb6b773f?w=500&q=80');"></div>
                    <div class="card-content">
                        <div class="card-tag" style="background:#ff7675;">GAME DEMO</div>
                        <h3 class="card-title">æ¸¸æˆ Demo æ¼”ç¤º</h3>
                        <p class="card-desc">è¿™æ˜¯æˆ‘å¼€å‘çš„ç‹¬ç«‹æ¸¸æˆå®æœºæ¼”ç¤ºå½•å±</p>
                        
                        <!-- ğŸ‘‡ å…³é”®ï¼šç‚¹å‡»è°ƒç”¨ openVideo å‡½æ•°ï¼Œä¼ å…¥æ–‡ä»¶å -->
                        <a href="javascript:void(0)" onclick="openVideo('æ¸¸æˆdemoå±•ç¤º.mp4')" class="card-btn">
                            ğŸ¬ ç‚¹å‡»æ’­æ”¾è§†é¢‘
                        </a>
                    </div>
                </div>

                <!-- ä½œå“ 2 (å·²ä¿®æ”¹ä¸ºå…¨å±å›¾ç‰‡é›†) -->
                <div class="portfolio-card">
                    <div class="card-img" style="background-image: url('images/blenderä½œå“.png');"></div>
                    <div class="card-content">
                        <!-- æ ‡ç­¾é¢œè‰²æ”¹æˆäº†ç´«è‰²ï¼Œä»£è¡¨ç›¸å†Œ -->
                        <div class="card-tag" style="background:#a29bfe; color:#fff;">GALLERY</div>
                        <h3 class="card-title">ç›¸å†Œé›†</h3>
                        <p class="card-desc">å±•ç¤ºä¸ªäººå“å‘³ä¸æˆå°±çš„ç›¸å†Œé›†</p>
                        
                        <!-- ğŸ‘‡ æŒ‰é’®è§¦å‘ openGallery() -->
                        <a href="javascript:void(0)" onclick="openGallery()" class="card-btn">
                            ğŸ“¸ æŸ¥çœ‹å›¾ç‰‡é›†
                        </a>
                    </div>
                </div>

            <!-- ä½œå“ 3 (å·²ä¿®æ”¹ä¸ºåšå®¢åˆ—è¡¨) -->
                <div class="portfolio-card">
                    <!-- ğŸ‘‡ æ¢äº†ä¸€å¼ æ›´æœ‰ä¹¦å·æ°”çš„å›¾ -->
                    <div class="card-img" style="background-image: url('images/ç»«å°è·¯.jpg');"></div>
                    <div class="card-content">
                        <!-- æ ‡ç­¾é¢œè‰²æ”¹ä¸ºæ¸…æ–°çš„è–„è·ç»¿ -->
                        <div class="card-tag" style="background:#00b894; color:#fff;">BLOG</div>
                        <h3 class="card-title">ä¸ªäººåšå®¢</h3>
                        <p class="card-desc">åˆ†äº«æˆ‘çš„æŠ€æœ¯ç¬”è®°ã€æ¸¸æˆæ”»ç•¥ä¸ç”Ÿæ´»æ„Ÿæ‚Ÿã€‚</p>
                        
                        <!-- ğŸ‘‡ ç‚¹å‡»è§¦å‘ openBlog() -->
                        <a href="javascript:void(0)" onclick="openBlog()" class="card-btn">
                            ğŸ“– é˜…è§ˆåšå®¢
                        </a>
                    </div>
                </div>

            </div>
            
            <div style="margin-top:auto; border-top:2px dashed #ddd; padding-top:10px; text-align:center; color:#aaa; font-size:0.7rem;">
                SYSTEM STATUS: ONLINE <br> Â© 2024 PLAYER ONE
            </div>
        </aside>

    </div>

    <!-- === 3D æ¨¡å‹å¼¹çª— === -->
    <div id="model-modal" class="modal-overlay hidden">
        <div class="model-window">
            <button class="close-btn" onclick="closeModelView()">âŒ CLOSE</button>
            <h2 id="model-title" style="text-align:center; color:#333; margin-bottom:10px;">ITEM INSPECTION</h2>
            <model-viewer id="model-viewer-entity" src="" alt="3D Model" auto-rotate camera-controls style="width: 100%; height: 400px; background-color: #f0f0f0; border-radius: 15px;"></model-viewer>
            <p style="text-align:center; color:#666; font-size:0.8rem; margin-top:10px;">ğŸ–±ï¸ æ‹–åŠ¨æ—‹è½¬ | ğŸ¤ æ»šè½®ç¼©æ”¾</p>
        </div>
    </div>
    <!-- === æ–°å¢ï¼šè§†é¢‘æ’­æ”¾å¼¹çª— === -->
    <div id="video-modal" class="modal-overlay hidden">
        <div class="model-window" style="background:#000; border-color:#333;">
            <!-- å…³é—­æŒ‰é’® -->
            <button class="close-btn" onclick="closeVideo()">âŒ CLOSE</button>
            
            <h2 style="text-align:center; color:#fff; margin-bottom:10px;">GAMEPLAY FOOTAGE</h2>
            
            <!-- è§†é¢‘æ’­æ”¾å™¨ -->
            <video id="video-player" controls style="width: 100%; border-radius: 10px; box-shadow: 0 0 20px rgba(255,255,255,0.1);">
                <source src="" type="video/mp4">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
            </video>
        </div>
    </div>
    <!-- === æ–°å¢ï¼šåšå®¢æ–‡ç« åˆ—è¡¨å¼¹çª— === -->
    <div id="blog-modal" class="modal-overlay hidden">
        <div class="model-window" style="max-width: 500px;">
            <!-- å…³é—­æŒ‰é’® -->
            <button class="close-btn" onclick="closeBlog()">âŒ CLOSE</button>
            
            <h2 style="text-align:center; color:#333; margin-bottom:5px;">MY ARTICLES</h2>
            <p style="text-align:center; color:#888; font-size:0.8rem; margin-bottom:20px;">æœ€è¿‘æ›´æ–° / Recent Updates</p>
            
            <!-- æ–‡ç« åˆ—è¡¨å®¹å™¨ -->
            <div class="article-list">
                
                <!-- æ–‡ç«  1 -->
                <a href="articles/ç«ç„°çº¹ç« Engageç©æ³•å¤§æ­ç§˜.pdf" target="_blank" class="article-item">
                    <div class="article-date">2025.7.24</div>
                    <div class="article-title">ğŸš€ ç«ç„°çº¹ç« engageä¸ºä»€ä¹ˆèƒ½è®©äººç©åˆ°åœä¸ä¸‹æ¥ï¼Ÿ</div>
                    <div class="article-arrow">âœ</div>
                </a>

                <!-- æ–‡ç«  2 -->
                <a href="#" class="article-item">
                    <div class="article-date">2024.11.15</div>
                    <div class="article-title">ğŸ® ã€Šå¡å°”è¾¾ä¼ è¯´ï¼šç‹å›½ä¹‹æ³ªã€‹é€šå…³æ„Ÿæƒ³</div>
                    <div class="article-arrow">âœ</div>
                </a>

                <!-- æ–‡ç«  3 -->
                <a href="#" class="article-item">
                    <div class="article-date">2024.10.20</div>
                    <div class="article-title">ğŸ’» è®ºç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»</div>
                    <div class="article-arrow">âœ</div>
                </a>

                <!-- æ–‡ç«  4 -->
                <a href="#" class="article-item">
                    <div class="article-date">2024.10.01</div>
                    <div class="article-title">ğŸœ å‘¨æœ«å»å“ªåƒï¼šæ¢åº—æ—¥è®° </div>
                    <div class="article-arrow">âœ</div>
                </a>

            </div>
        </div>
    </div>
    <!-- === æ–°å¢ï¼šå…¨å±æ¸å˜ç”»å»Š === -->
    <div id="gallery-modal" class="gallery-overlay hidden">
        
        <!-- å…³é—­æŒ‰é’® (å³ä¸Šè§’) -->
        <button class="close-btn-gallery" onclick="closeGallery()">âŒ CLOSE</button>
        
        <!-- å›¾ç‰‡å®¹å™¨ -->
        <div class="gallery-container">
            <!-- ğŸ‘‡ è¿™é‡Œæ”¾ä½ è¦å±•ç¤ºçš„å›¾ç‰‡ï¼Œè®°å¾—æ¢æˆä½ è‡ªå·±çš„å›¾ç‰‡è·¯å¾„ -->
            <!-- ç¬¬ 1 å¼  (é»˜è®¤æ˜¾ç¤º) -->
            <img src="images/blenderä½œå“.png" class="gallery-slide active" alt="å›¾1">
            
            <!-- ç¬¬ 2 å¼  -->
            <img src="images/ZBrushå°æ€ªå…½.png" class="gallery-slide" alt="å›¾2">
            
            <!-- ç¬¬ 3 å¼  -->
            <img src="images/å¯¹é©¬å²›ç›¸å†Œ1.png" class="gallery-slide" alt="å›¾3">

            <!-- ç¬¬ 4 å¼  -->
            <img src="images/å¯¹é©¬å²›ç›¸å†Œ2.png" class="gallery-slide" alt="å›¾4">

            <!-- ç¬¬ 5 å¼  -->
            <img src="images/æ— é™æš–æš–1.png" class="gallery-slide" alt="å›¾5">
        </div>

        <!-- å·¦å³åˆ‡æ¢æŒ‰é’® -->
        <button class="nav-btn prev" onclick="changeSlide(-1)">â®</button>
        <button class="nav-btn next" onclick="changeSlide(1)">â¯</button>

        <!-- åº•éƒ¨æŒ‡ç¤ºæ–‡å­— -->
        <div class="gallery-indicator">
            IMAGE <span id="current-num">1</span> / <span id="total-num">3</span>
        </div>
    </div>
    <!-- JS é€»è¾‘ -->
    <script>
        function startGame() {
            document.getElementById('intro-scene').classList.add('hidden');
            document.getElementById('main-dashboard').classList.add('visible');
            const bgm = document.getElementById('bgm');
            bgm.volume = 0.3;
            bgm.play().catch(e => console.log("éœ€ç”¨æˆ·äº¤äº’æ‰èƒ½æ’­æ”¾"));
        }

        function toggleMusic() {
            const bgm = document.getElementById('bgm');
            if (bgm.paused) bgm.play();
            else bgm.pause();
        }
        
        function openModelView(modelPath, modelName) {
            const modal = document.getElementById('model-modal');
            const viewer = document.getElementById('model-viewer-entity');
            const title = document.getElementById('model-title');
            viewer.src = modelPath;
            title.innerText = modelName;
            modal.classList.remove('hidden');
            modal.style.display = 'flex'; 
        }

        function closeModelView() {
            const modal = document.getElementById('model-modal');
            modal.classList.add('hidden');
            setTimeout(() => { modal.style.display = 'none'; }, 300);
        }

        // ç•™è¨€æ¿åŠŸèƒ½
        function toggleMessageBoard() {
            const panel = document.getElementById('message-board-panel');
            panel.classList.toggle('open');
            if(panel.classList.contains('open')) loadMessages();
        }

        document.addEventListener('click', function(e) {
            const panel = document.getElementById('message-board-panel');
            const btn = document.querySelector('.floating-btn');
            if (!panel.contains(e.target) && !btn.contains(e.target) && panel.classList.contains('open')) {
                panel.classList.remove('open');
            }
        });

// === çœŸå®çš„é‚®ä»¶å‘é€é€»è¾‘ (Formspree AJAX) ===
        const form = document.getElementById("my-game-form");
        
        async function handleSubmit(event) {
            event.preventDefault(); // 1. é˜»æ­¢é¡µé¢è·³è½¬
            
            const status = document.getElementById("form-status");
            const btn = document.getElementById("send-btn");
            const originalBtnText = btn.innerText;

            // 2. é”å®šæŒ‰é’®ï¼Œé˜²æ­¢é‡å¤ç‚¹
            btn.disabled = true;
            btn.innerText = "â³ Sending...";
            
            // 3. å‡†å¤‡æ•°æ®
            const data = new FormData(event.target);

            // âš ï¸âš ï¸âš ï¸ è¯·æŠŠä¸‹é¢çš„ xxxxxxxx æ¢æˆä½ åœ¨ç¬¬ä¸€æ­¥ç”³è¯·åˆ°çš„ Formspree ID âš ï¸âš ï¸âš ï¸
            fetch("https://formspree.io/f/mwpzewkq", {
                method: "POST",
                body: data,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    // å‘é€æˆåŠŸ
                    status.innerHTML = "âœ… å‘é€æˆåŠŸï¼æˆ‘ä¼šå°½å¿«æŸ¥çœ‹é‚®ä»¶ã€‚<br>Message Sent!";
                    status.style.color = "green";
                    form.reset(); // æ¸…ç©ºè¾“å…¥æ¡†
                } else {
                    // å‘é€å¤±è´¥
                    status.innerHTML = "âŒ å‘é€å¤±è´¥ï¼Œè¯·ç¨åå†è¯•ã€‚";
                    status.style.color = "red";
                }
                // æ¢å¤æŒ‰é’®
                btn.disabled = false;
                btn.innerText = originalBtnText;
            }).catch(error => {
                status.innerHTML = "âŒ ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œã€‚";
                status.style.color = "red";
                btn.disabled = false;
                btn.innerText = originalBtnText;
            });
        }
        
        // ç»‘å®šç›‘å¬å™¨
        form.addEventListener("submit", handleSubmit);

        function escapeHtml(text) {
            return text.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
        }
        // === è§†é¢‘å¼¹çª—æ§åˆ¶é€»è¾‘ ===
        
        function openVideo(videoPath) {
            const modal = document.getElementById('video-modal');
            const video = document.getElementById('video-player');
            
            // 1. è®¾ç½®è§†é¢‘è·¯å¾„
            video.src = videoPath;
            
            // 2. æ˜¾ç¤ºå¼¹çª—
            modal.classList.remove('hidden');
            modal.style.display = 'flex';
            
            // 3. è‡ªåŠ¨æ’­æ”¾ (ä¸ºäº†ä½“éªŒå¥½)
            video.play();
        }

        function closeVideo() {
            const modal = document.getElementById('video-modal');
            const video = document.getElementById('video-player');
            
            // 1. æš‚åœè§†é¢‘ (å¾ˆé‡è¦ï¼ä¸ç„¶å…³äº†çª—å£å£°éŸ³è¿˜åœ¨å“)
            video.pause();
            
            // 2. éšè—å¼¹çª—
            modal.classList.add('hidden');
            setTimeout(() => { modal.style.display = 'none'; }, 300);
        }
        
        // ç‚¹å‡»å¼¹çª—èƒŒæ™¯ä¹Ÿèƒ½å…³é—­è§†é¢‘
        document.getElementById('video-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeVideo();
            }
        });
        // === å…¨å±ç”»å»Šé€»è¾‘ ===
        let currentSlideIndex = 0;
        const slides = document.querySelectorAll('.gallery-slide');
        const totalSlides = slides.length;

        // åˆå§‹åŒ–æ€»é¡µæ•°
        document.getElementById('total-num').innerText = totalSlides;

        function openGallery() {
            const modal = document.getElementById('gallery-modal');
            modal.classList.remove('hidden');
            modal.style.display = 'flex'; // ä½¿ç”¨ flex å±…ä¸­
        }

        function closeGallery() {
            const modal = document.getElementById('gallery-modal');
            modal.classList.add('hidden');
            setTimeout(() => { modal.style.display = 'none'; }, 500);
        }

        function changeSlide(direction) {
            // 1. æ‰¾åˆ°å½“å‰æ˜¾ç¤ºçš„å›¾ï¼Œå»æ‰ active (å®ƒä¼šæ…¢æ…¢æ·¡å‡º)
            slides[currentSlideIndex].classList.remove('active');

            // 2. è®¡ç®—ä¸‹ä¸€å¼ å›¾çš„ç´¢å¼• (æ”¯æŒå¾ªç¯ï¼šæœ€åä¸€å¼ ç‚¹å³è¾¹å›åˆ°ç¬¬ä¸€å¼ )
            currentSlideIndex += direction;
            
            if (currentSlideIndex >= totalSlides) currentSlideIndex = 0;
            if (currentSlideIndex < 0) currentSlideIndex = totalSlides - 1;

            // 3. ç»™ä¸‹ä¸€å¼ å›¾åŠ ä¸Š active (å®ƒä¼šæ…¢æ…¢æ·¡å…¥)
            slides[currentSlideIndex].classList.add('active');

            // 4. æ›´æ–°åº•éƒ¨é¡µç 
            document.getElementById('current-num').innerText = currentSlideIndex + 1;
        }

        // æ”¯æŒé”®ç›˜å·¦å³é”®åˆ‡æ¢ (ä½“éªŒä¼˜åŒ–)
        document.addEventListener('keydown', function(e) {
            const modal = document.getElementById('gallery-modal');
            if (modal.style.display === 'flex') {
                if (e.key === 'ArrowRight') changeSlide(1);
                if (e.key === 'ArrowLeft') changeSlide(-1);
                if (e.key === 'Escape') closeGallery();
            }
        });
        // === åšå®¢åˆ—è¡¨å¼¹çª—æ§åˆ¶ ===
        function openBlog() {
            const modal = document.getElementById('blog-modal');
            modal.classList.remove('hidden');
            modal.style.display = 'flex';
        }

        function closeBlog() {
            const modal = document.getElementById('blog-modal');
            modal.classList.add('hidden');
            setTimeout(() => { modal.style.display = 'none'; }, 300);
        }

        // ç‚¹å‡»åšå®¢å¼¹çª—èƒŒæ™¯å…³é—­
        document.getElementById('blog-modal').addEventListener('click', function(e) {
            if (e.target === this) closeBlog();
        });
    </script>
</body>
</html>